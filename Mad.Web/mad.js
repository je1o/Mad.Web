function getData() {
    return {
        "carousel": [
            ["MAIN1.png", "1200", "700"],
            ["MAIN2.png", "1200", "700"],
            ["MAIN3.png", "1200", "700"],
        ],
        "photos": [
            ["MAD-01.png", "600", "900"],
            ["MAD-02.png", "1094", "900"],
            ["MAD-03.png", "1349", "900"],
            ["MAD-04.png", "2213", "900"],
            ["MAD-05.png", "1349", "900"],
            ["MAD-06.png", "1349", "900"],
            ["MAD-07.png", "900", "900"],
            ["MAD-08.png", "1200", "900"],
            ["MAD-09.png", "600", "900"],
            ["MAD-10.png", "1007", "900"],
            ["MAD-11.png", "1048", "900"]
        ],
        "reports": [
            ["Reports_01.png", "1200", "831"],
            ["Reports_02.png", "1200", "839"],
            ["Reports_03.png", "1200", "839"],
            ["Reports_04.png", "1200", "839"],
            ["Reports_05.png", "1200", "834"],
            ["Reports_06.png", "1200", "773"],
            ["Reports_07.png", "1200", "772"],
            ["Reports_08.png", "1200", "839"],
            ["Reports_09.png", "1200", "839"],
            ["Reports_10.png", "1200", "791"]
        ],
        "prints": [
            ["AD_adidas.png", "1200", "900"],
            ["AD_adidas2.png", "900", "900"],
            ["AD_SGK_a4.png", "600", "900"],
            ["AD_SGK_a4v2.png", "600", "900"],
            ["AD_SGK_spectraban_tall.png", "300", "900"],
            ["AD_SGK_spectraban_wide.png", "1200", "450"],
            ["AD_SGK_tall.png", "400", "1065"],
            ["AD_SGK_tall2.png", "338", "900"],
            ["AD_SGK_tall3.png", "338", "900"],
            ["AD_SGK_wide.png", "1603", "1202"],
            ["packaging_b45_barako.png", "1200", "750"],
            ["packaging_b45_pula.png", "1200", "750"],
            ["packaging_b45_puti.png", "1200", "750"],
            ["packaging_b45_whitesugarfree.png", "1200", "791"],
            ["packaging_gt_brown.png", "1200", "791"],
            ["packaging_gt_original.png", "1200", "791"],
            ["packaging_gt_white.png", "1200", "791"],
            ["poster_b45_barako.png", "1200", "791"],
            ["poster_b45_pula.png", "1200", "791"],
            ["poster_b45_puti.png", "1200", "791"]
        ],
        "awards": [
            {
                "id": "aw1",
                "url": "Images/Awards/DMPL/",
                "images":
                    [
                        "DelMonte2013LS_17March-01.jpg",
                        "DelMonte2013LS_17March-02.jpg",
                        "DelMonte2013LS_17March-03.jpg",
                        "DelMonte2013LS_17March-04.jpg",
                        "DelMonte2013LS_17March-05.jpg",
                        "DelMonte2013LS_17March-06.jpg",
                        "DelMonte2013LS_17March-07.jpg",
                        "DelMonte2013LS_17March-08.jpg",
                        "DelMonte2013LS_17March-09.jpg",
                        "DelMonte2013LS_17March-10.jpg",
                        "DelMonte2013LS_17March-11.jpg",
                        "DelMonte2013LS_17March-12.jpg",
                        "DelMonte2013LS_17March-13.jpg",
                        "DelMonte2013LS_17March-14.jpg",
                        "DelMonte2013LS_17March-15.jpg",
                        "DelMonte2013LS_17March-16.jpg",
                        "DelMonte2013LS_17March-17.jpg",
                        "DelMonte2013LS_17March-18.jpg",
                        "DelMonte2013LS_17March-19.jpg",
                        "DelMonte2013LS_17March-20.jpg",
                        "DelMonte2013LS_17March-21.jpg",
                        "DelMonte2013LS_17March-22.jpg",
                        "DelMonte2013LS_17March-23.jpg",
                        "DelMonte2013LS_17March-24.jpg",
                        "DelMonte2013LS_17March-25.jpg",
                        "DelMonte2013LS_17March-26.jpg",
                        "DelMonte2013LS_17March-27.jpg",
                        "DelMonte2013LS_17March-28.jpg",
                        "DelMonte2013LS_17March-29.jpg",
                        "DelMonte2013LS_17March-30.jpg",
                        "DelMonte2013LS_17March-31.jpg",
                        "DelMonte2013LS_17March-32.jpg",
                        "DelMonte2013LS_17March-33.jpg",
                        "DelMonte2013LS_17March-34.jpg",
                        "DelMonte2013LS_17March-35.jpg",
                        "DelMonte2013LS_17March-36.jpg",
                        "DelMonte2013LS_17March-37.jpg",
                        "DelMonte2013LS_17March-38.jpg",
                        "DelMonte2013LS_17March-39.jpg",
                        "DelMonte2013LS_17March-40.jpg",
                        "DelMonte2013LS_17March-41.jpg",
                        "DelMonte2013LS_17March-42.jpg",
                        "DelMonte2013LS_17March-43.jpg",
                        "DelMonte2013LS_17March-44.jpg",
                        "DelMonte2013LS_17March-45.jpg",
                        "DelMonte2013LS_17March-46.jpg"
                    ]
            },
            {
                "id": "aw2",
                "url": "Images/Awards/Oceanus2013/",
                "images":
                    [
                        "O20131.png",
                        "O201310.png",
                        "O201311.png",
                        "O201312.png",
                        "O201313.png",
                        "O201314.png",
                        "O201315.png",
                        "O201316.png",
                        "O201317.png",
                        "O201318.png",
                        "O201319.png",
                        "O20132.png",
                        "O201320.png",
                        "O201321.png",
                        "O20133.png",
                        "O20134.png",
                        "O20135.png",
                        "O20136.png",
                        "O20137.png",
                        "O20138.png",
                        "O20139.png"
                    ]
            },
            {
                "id": "aw3",
                "url": "Images/Awards/Engro2013/",
                "images":
                    [
                        "ENGRO2013_Review Final_SGX-001.jpg",
                        "ENGRO2013_Review Final_SGX-002.jpg",
                        "ENGRO2013_Review Final_SGX-003.jpg",
                        "ENGRO2013_Review Final_SGX-004.jpg",
                        "ENGRO2013_Review Final_SGX-005.jpg",
                        "ENGRO2013_Review Final_SGX-006.jpg",
                        "ENGRO2013_Review Final_SGX-007.jpg",
                        "ENGRO2013_Review Final_SGX-008.jpg",
                        "ENGRO2013_Review Final_SGX-009.jpg",
                        "ENGRO2013_Review Final_SGX-010.jpg",
                        "ENGRO2013_Review Final_SGX-011.jpg",
                        "ENGRO2013_Review Final_SGX-012.jpg",
                        "ENGRO2013_Review Final_SGX-013.jpg",
                        "ENGRO2013_Review Final_SGX-014.jpg",
                        "ENGRO2013_Review Final_SGX-015.jpg",
                        "ENGRO2013_Review Final_SGX-016.jpg",
                        "ENGRO2013_Review Final_SGX-017.jpg",
                        "ENGRO2013_Review Final_SGX-018.jpg",
                        "ENGRO2013_Review Final_SGX-019.jpg",
                        "ENGRO2013_Review Final_SGX-020.jpg",
                        "ENGRO2013_Review Final_SGX-021.jpg",
                        "ENGRO2013_Review Final_SGX-022.jpg",
                        "ENGRO2013_Review Final_SGX-023.jpg",
                        "ENGRO2013_Review Final_SGX-024.jpg",
                        "ENGRO2013_Review Final_SGX-025.jpg",
                        "ENGRO2013_Review Final_SGX-026.jpg",
                        "ENGRO2013_Review Final_SGX-122.jpg"
                    ]
            },
            {
                "id": "aw4",
                "url": "Images/Awards/Engro2014/",
                "images":
                    [
                        "Engro2014_Review__Page_01.jpg",
                        "Engro2014_Review__Page_02.jpg",
                        "Engro2014_Review__Page_03.jpg",
                        "Engro2014_Review__Page_04.jpg",
                        "Engro2014_Review__Page_05.jpg",
                        "Engro2014_Review__Page_06.jpg",
                        "Engro2014_Review__Page_07.jpg",
                        "Engro2014_Review__Page_08.jpg",
                        "Engro2014_Review__Page_09.jpg",
                        "Engro2014_Review__Page_10.jpg",
                        "Engro2014_Review__Page_11.jpg",
                        "Engro2014_Review__Page_12.jpg",
                        "Engro2014_Review__Page_13.jpg",
                        "Engro2014_Review__Page_14.jpg",
                        "Engro2014_Review__Page_15.jpg",
                        "Engro2014_Review__Page_16.jpg",
                        "Engro2014_Review__Page_17.jpg",
                        "Engro2014_Review__Page_18.jpg",
                        "Engro2014_Review__Page_19.jpg",
                        "Engro2014_Review__Page_20.jpg",
                        "Engro2014_Review__Page_21.jpg",
                        "Engro2014_Review__Page_22.jpg",
                        "Engro2014_Review__Page_23.jpg",
                        "Engro2014_Review__Page_24.jpg",
                        "Engro2014_Review__Page_25.jpg",
                        "Engro2014_Review__Page_26.jpg"
                    ]
            },
        ]
    };
}

function initMad() {
    var data = getData();

    initCarousel(data.carousel, "Images/");
    initWall(data.photos, "Images/", "photo", 250, "#photoWall");
    initWall(data.reports, "Images/Reports/", "report", 155, "#reportWall");
    initWall(data.prints, "Images/Prints/", "print", 165, "#printWall");

    for (var i = 0; i <= data.awards.length - 1; i++) {
        var award = data.awards[i];
        initAwards(award.id, award.url, award.images);
    }

    $("a[rel='photo']").fancybox({
        buttons: ["close"]
    });

    $("a[rel='report'], a[rel='print']").fancybox({
        buttons: ["close"]
    });

    for (var j = 0; j <= data.awards.length - 1; j++) {
        $("a[rel='" + data.awards[j].id + "']").fancybox({
            buttons: ["close"]
        });
    }

    var wall = new Freewall("#awardWall");
    wall.reset({
        selector: ".thumbnail",
        animate: false,
        cellW: 200,
        cellH: 480,
        onResize: function () {
            wall.refresh();
        }
    });

    $("#awardWall").imagesLoaded().always(function (instance) {
        $("#awardWall").css("visibility", "visible");
    })

    wall.fitWidth();
    $(window).trigger("resize");

    emailjs.init("user_W4oMRathYxpVpn1vW2JQa");
    $('#cForm').submit(function () {
        var n = $("#cName");
        var e = $("#cEmail");
        var m = $("#cMessage");
        if (n.val() && e.val() && m.val()) {
            submitContact(true);
            emailjs.send("cr8madness", "cr8madness", { "name": n.val(), "email": e.val(), "message": m.val() })
                .then(function (response) {
                    console.log("SUCCESS. status=%d, text=%s", response.status, response.text);
                    submitContact(false);
                }, function (err) {
                    console.log("FAILED. error=", err);
                    submitContact(false);
                });
        }
        return false;
    });
}

function initCarousel(items, url) {
    var temp = "<div class='{c}'><img src='{u}' width='{w}' height='{h}'></div>";
    var html = "";
    for (var i = 0; i <= items.length - 1; i++) {
        var item = items[i];
        var cl = 'item';
        if (i === 0)
            cl += ' active';
        html += temp.replace(/\{c\}/g, cl).replace(/\{u\}/g, url + item[0]).replace(/\{w\}/g, item[1]).replace(/\{h\}/g, item[2]);
    }

    $("#carInner").html(html);
}

function initWall(items, url, type, size, name) {
    var temp = "<div class='brick'><a rel='" + type + "' data-fancybox='images' href='{u}' data-width='{w}' data-height='{h}'><img src='{t}' /></a></div>";
    var html = "";
    for (var i = 0; i <= items.length - 1; i++) {
        var item = items[i];
        html += temp.replace(/\{u\}/g, url + item[0]).replace(/\{t\}/g, url + 't_' + item[0]).replace(/\{w\}/g, item[1]).replace(/\{h\}/g, item[2]);
    }

    $(name).html(html);  
    $(name).imagesLoaded().always(function (instance) {
        freewallize(name, size);
        $(name).css("visibility", "visible");
    });
}

function initAwards(id, url, items) {
    var temp = "<div class='{c}'><a rel='" + id + "' data-fancybox='images' href='{u}'><img src='{u}' /></a></div> ";
    var html = "";
    for (var i = 0; i <= items.length - 1; i++) {
        var cl = 'item';
        if (i === 0)
            cl += ' active';
        html += temp.replace(/\{c\}/g, cl).replace(/\{u\}/g, url + items[i]);
    }

    $("#" + id).html(html);
}

function freewallize(name, size) {
    $(".brick").each(function (index, item) {
        var h = parseInt($(item).children('a').attr("data-height"));
        var w = parseInt($(item).children('a').attr("data-width"));
        if (h > w) {
            $(item).height(size).width(w / (h / size));
        }
        else
            $(item).height(h / (w / size)).width(size);
    });

    var wall = new Freewall(name);
    wall.reset({
        selector: ".brick",
        animate: false,
        cellW: size,
        cellH: 'auto',
        onResize: function () {
            wall.fitWidth();
        }
    });

    wall.fitWidth();
    $(window).trigger("resize");
}


function submitContact(value) {
    if (value) {
        $("#cName").prop("disabled", true);
        $("#cEmail").prop("disabled", true);
        $("#cMessage").prop("disabled", true);
        $("#sendMsg").text("Sending");
        $("#sendMsg").prop("disabled", true);
    }
    else {
        $("#cName").prop("disabled", false);
        $("#cEmail").prop("disabled", false);
        $("#cMessage").prop("disabled", false);
        $("#cName").prop("value", "");
        $("#cEmail").prop("value", "");
        $("#cMessage").prop("value", "");
        $("#sendMsg").prop("disabled", false);
        $("#sendMsg").text("Send");
    }
}